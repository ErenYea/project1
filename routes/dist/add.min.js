"use strict";var express=require("express"),router=express.Router(),mysql=require("mysql"),mysqlConnection=mysql.createConnection({host:"localhost",user:"root",password:"loveisone",database:"helloworld",multipleStatements:!0});mysqlConnection.connect(function(e){e?console.log("Not seccess",e):console.log("sucess")}),router.post("/",function(e,s,n){var o,r,c=e.body;if(1==Object.getOwnPropertyNames(c).length)for(key in c)o=key,r=c[key];else o=Object.keys(c)[0],r=c[Object.keys(c)[0]];if("ADD"==r)mysqlConnection.query("select COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH,  \n       IS_NULLABLE \n    from INFORMATION_SCHEMA.COLUMNS\n    where TABLE_NAME='".concat(o,"'"),function(e,n,t){e?s.send(e):s.render("add",{data:n,tablename:o,cond:"add"})});else if("EDIT"==c[Object.keys(c)[0]])mysqlConnection.query("select COLUMN_NAME,DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,IS_NULLABLE\n      from INFORMATION_SCHEMA.COLUMNS\n      where TABLE_NAME='".concat(c.tablename,"'"),function(e,n,t){var o=n;mysqlConnection.query("select * from ".concat(c.tablename," where ").concat(r[0],"=").concat(Object.keys(c)[0]),function(e,n,t){id=[r[0],Object.keys(c)[0]],s.render("add",{data:o,rows:n,tablename:c.tablename,cond:"edit",id:id})})});else{var a=[o];mysqlConnection.query("SELECT * from ".concat(o),function(e,n,t){if(e)s.send(e);else{var o=[n];s.render("tables",{title:"Express",data:o,tablenames:a,cond:"view"})}})}}),module.exports=router;
//# sourceMappingURL=add.min.js.map

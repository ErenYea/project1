"use strict";var express=require("express"),router=express.Router(),mysqlConnection=require("./mysqlconn.js");router.post("/",function(e,o,n){var r,t,s=e.body;if(1==Object.getOwnPropertyNames(s).length)for(key in s)r=key,t=s[key];else r=Object.keys(s)[0],t=s[Object.keys(s)[0]];if("ADD"==t)mysqlConnection.query("select COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH,  \n       IS_NULLABLE \n    from INFORMATION_SCHEMA.COLUMNS\n    where TABLE_NAME='".concat(r,"'"),function(e,n,t){e?o.send(e):o.render("add",{data:n,tablename:r,cond:"add"})});else if("EDIT"==s[Object.keys(s)[0]])mysqlConnection.query("select COLUMN_NAME,DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,IS_NULLABLE\n      from INFORMATION_SCHEMA.COLUMNS\n      where TABLE_NAME='".concat(s.tablename,"'"),function(e,n,t){var r=n;mysqlConnection.query("select * from ".concat(s.tablename," where ").concat(s.id[0],"=").concat(Object.keys(s)[0]),function(e,n,t){id=[s.id[0],Object.keys(s)[0]],o.render("add",{data:r,rows:n,tablename:s.tablename,cond:"edit",id:id})})});else{var c=[r];mysqlConnection.query("SELECT * from ".concat(r),function(e,n,t){if(e)o.send(e);else{var r=[n];o.render("tables",{title:"Express",data:r,tablenames:c,cond:"view"})}})}}),module.exports=router;
//# sourceMappingURL=add.min.js.map

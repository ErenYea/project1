"use strict";var express=require("express"),router=express.Router(),mysql=require("mysql"),mysqlConnection=mysql.createConnection({host:"localhost",user:"root",password:"loveisone",database:"helloworld",multipleStatements:!0});mysqlConnection.connect(function(e){e?console.log("Not seccess",e):console.log("sucess")}),router.post("/",function(e,s,o){var t,c,l=e.body;if(console.log(l),1==Object.getOwnPropertyNames(l).length)for(key in l)t=key,c=l[key];else t=Object.keys(l)[0],c=l[Object.keys(l)[0]];if(console.log(t),console.log(c),"ADD"==c)mysqlConnection.query("select COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH,  \n       IS_NULLABLE \n    from INFORMATION_SCHEMA.COLUMNS\n    where TABLE_NAME='".concat(t,"'"),function(e,o,n){e?s.send(e):s.render("add",{data:o,tablename:t,cond:"add"})});else if("EDIT"==l[Object.keys(l)[0]])mysqlConnection.query("select COLUMN_NAME,DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,IS_NULLABLE\n      from INFORMATION_SCHEMA.COLUMNS\n      where TABLE_NAME='".concat(l.tablename,"'"),function(e,o,n){var t=o;console.log(o),mysqlConnection.query("select * from ".concat(l.tablename," where ").concat(l.id[0],"=").concat(Object.keys(l)[0]),function(e,o,n){console.log("select * from ".concat(l.tablename," where ").concat(c[0],"=").concat(Object.keys(l)[0])),console.log(o),id=[l.id[0],Object.keys(l)[0]],s.render("add",{data:t,rows:o,tablename:l.tablename,cond:"edit",id:id})})});else{var r=[t];mysqlConnection.query("SELECT * from ".concat(t),function(e,o,n){if(e)s.send(e);else{var t=[o];s.render("tables",{title:"Express",data:t,tablenames:r,cond:"view"})}})}}),module.exports=router;
//# sourceMappingURL=add.min.js.map

"use strict";var express=require("express"),router=express.Router(),mysql=require("mysql"),mysqlConnection=mysql.createConnection({host:"localhost",user:"root",password:"loveisone",database:"helloworld",multipleStatements:!0});mysqlConnection.connect(function(e){e?console.log("Not seccess",e):console.log("sucess")}),router.post("/",function(e,t,o){console.log("added");var s,c,l=e.body;for(key in console.log(l),l)s=key,c=l[key];if(console.log(s),console.log(c),"ADD"==c)mysqlConnection.query("select COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH,  \n       IS_NULLABLE \n    from INFORMATION_SCHEMA.COLUMNS\n    where TABLE_NAME='".concat(s,"'"),function(e,o,n){e?t.send(e):(console.log(o),t.render("add",{data:o,tablename:s,cond:"add"}))});else if("EDIT"==l[Object.keys(l)[0]])mysqlConnection.query("select COLUMN_NAME,DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,IS_NULLABLE\n      from INFORMATION_SCHEMA.COLUMNS\n      where TABLE_NAME='".concat(l.tablename,"'"),function(e,o,n){var s=o;console.log(o),mysqlConnection.query("select * from ".concat(l.tablename," where ").concat(c[0],"=").concat(Object.keys(l)[0]),function(e,o,n){console.log(o),id=[c[0],Object.keys(l)[0]],t.render("add",{data:s,rows:o,tablename:l.tablename,cond:"edit",id:id})})});else{var r=[s];mysqlConnection.query("SELECT * from ".concat(s),function(e,o,n){if(e)t.send(e);else{var s=[o];t.render("tables",{title:"Express",data:s,tablenames:r,cond:"view"})}})}}),module.exports=router;
//# sourceMappingURL=add.min.js.map

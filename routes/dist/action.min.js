"use strict";var express=require("express"),router=express.Router(),mysqlConnection=require("./mysqlconn.js");router.post("/",function(e,n,t){var r,s,o=e.body,a=[],i=[];for(key in o){if("string"!=typeof(s=o[key])||isNaN(s)){if("task"==key){r=o[key];continue}a.push(o[key])}else{var c=parseInt(o[key]);a.push(c)}i.push(key)}var u=a.shift();i.shift();var l="'"+a.join("','")+"'",f=""+i.join(",");if("add"==r)mysqlConnection.query("insert into ".concat(u," (").concat(f,") values (").concat(l,")"),function(e,t,r){e?n.send(e):n.redirect("/tables")});else if("edit"==r){value=a.shift(),arr_value=value.split(","),i.shift();for(var y="",p=0;p<i.length;p++){if(p==i.length-1){y+="".concat(i[p],"=")+"'"+a[p]+"'";break}y+="".concat(i[p],"=")+"'"+a[p]+"',"}mysqlConnection.query("update ".concat(u," set ").concat(y," where ").concat(arr_value[0]," = ").concat(arr_value[1]),function(e,t,r){e?n.send(e):n.redirect("/tables")})}}),module.exports=router;
//# sourceMappingURL=action.min.js.map

{"version":3,"sources":["tables.js"],"names":["express","require","router","Router","mysqlConnection","get","req","res","next","gettablenames","Promise","resolve","reject","query","err","rows","fields","console","log","getcolumndata","element","key","allfunct","tablenames","data","array_of_table","push","object_of_data","newarr","start","render","title","cond","module","exports"],"mappings":"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","sourcesContent":["var express = require(\"express\");\r\nvar router = express.Router();\r\nconst mysqlConnection = require(\"./mysqlconn.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /* GET users listing. */\r\nrouter.get(\"/\", function (req, res, next) {\r\n  const gettablenames = () =>{\r\n  return new Promise((resolve,reject)=>{\r\n    mysqlConnection.query(\"show tables\",(err,rows,fields)=>{\r\n        if (err){\r\n          console.log(\"First Function\",err)\r\n          reject(err);\r\n        } else{\r\n          resolve(rows);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const getcolumndata = (element,key) =>{\r\n    return new Promise((resolve,reject)=>{\r\n      mysqlConnection.query(`SELECT * from ${element[key]}`,(err,rows,fields)=>{\r\n        if(err){\r\n          console.log(\"Second function\",err)\r\n          reject(err);\r\n        } else{\r\n          resolve(rows);\r\n        }\r\n      });\r\n    });\r\n  };\r\n  const allfunct = async () => {\r\n    var tablenames = [];\r\n    var data = [];\r\n    var array_of_table = await gettablenames();\r\n    // console.log(array_of_table);\r\n    for (element of array_of_table){\r\n      for (key in element){\r\n        // console.log(element[key]);\r\n        tablenames.push(element[key]);\r\n        var object_of_data = await getcolumndata(element,key);\r\n        data.push(object_of_data);\r\n        \r\n      }\r\n    }\r\n    // console.log(data)\r\n    // console.log(tablenames)\r\n    var newarr = [tablenames,data];\r\n    return newarr;\r\n  }\r\n  const start = async () => {\r\n    var newarr = await allfunct()\r\n    var tablenames = newarr[0]\r\n    var data = newarr[1]\r\n    // console.log(tablenames);\r\n    res.render(\"tables\", {\r\n        title: \"Express\",\r\n        data: data,\r\n        tablenames: tablenames,\r\n        cond:\"table\"\r\n    });\r\n  }\r\n  start();\r\n  \r\n  \r\n  \r\n  \r\n});\r\n\r\n  \r\n\r\n\r\nmodule.exports = router;\r\n"],"file":"tables.dev.js"}